# Library Book Management System

class Book:
    def __init__(self, book_id, title, author, available=True):
        self.book_id = book_id
        self.title = title
        self.author = author
        self.available = available

    def __str__(self):
        status = "Available" if self.available else "Issued"
        return f"{self.book_id}\t{self.title}\t{self.author}\t{status}"


class Library:
    def __init__(self):
        self.books = []

    def add_book(self, book):
        self.books.append(book)
        print(f"\n? Book '{book.title}' added successfully!")

    def display_books(self):
        if not self.books:
            print("\n?? No books available in the library.")
            return
        print("\n?? Library Books:")
        print("ID\tTitle\tAuthor\tStatus")
        for book in self.books:
            print(book)

    def issue_book(self, book_id):
        for book in self.books:
            if book.book_id == book_id:
                if book.available:
                    book.available = False
                    print(f"\n?? '{book.title}' has been issued successfully!")
                else:
                    print(f"\n? '{book.title}' is already issued.")
                return
        print("\n?? Book ID not found.")

    def return_book(self, book_id):
        for book in self.books:
            if book.book_id == book_id:
                if not book.available:
                    book.available = True
                    print(f"\n?? '{book.title}' has been returned successfully!")
                else:
                    print(f"\n? '{book.title}' was not issued.")
                return
        print("\n?? Book ID not found.")

    def search_book(self, keyword):
        found = False
        print("\n?? Search Results:")
        for book in self.books:
            if keyword.lower() in book.title.lower() or keyword.lower() in book.author.lower():
                print(book)
                found = True
        if not found:
            print("? No matching books found.")


# -------------------- MAIN PROGRAM --------------------
library = Library()

while True:
    print("\n===== ?? LIBRARY MANAGEMENT SYSTEM =====")
    print("1. Add Book")
    print("2. Display All Books")
    print("3. Issue Book")
    print("4. Return Book")
    print("5. Search Book")
    print("6. Exit")

    choice = input("Enter your choice (1-6): ")

    if choice == '1':
        book_id = input("Enter Book ID: ")
        title = input("Enter Book Title: ")
        author = input("Enter Author Name: ")
        library.add_book(Book(book_id, title, author))

    elif choice == '2':
        library.display_books()

    elif choice == '3':
        book_id = input("Enter Book ID to issue: ")
        library.issue_book(book_id)

    elif choice == '4':
        book_id = input("Enter Book ID to return: ")
        library.return_book(book_id)

    elif choice == '5':
        keyword = input("Enter title or author to search: ")
        library.search_book(keyword)

    elif choice == '6':
        print("\n?? Exiting... Have a great day!")
        break

    else:
        print("\n? Invalid choice. Please try again.")
